<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify Clone - XBreaker</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Firebase SDK (modular) -->
    <script type="module">
        // Import Firebase modules
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js';
        import { 
            getAuth, 
            signInWithEmailAndPassword, 
            createUserWithEmailAndPassword, 
            signInWithPopup, 
            GoogleAuthProvider,
            signOut,
            onAuthStateChanged,
            RecaptchaVerifier,
            signInWithPhoneNumber
        } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js';
        import { 
            getFirestore, 
            doc, setDoc, getDoc, updateDoc, arrayUnion, 
            collection, query, where, getDocs, addDoc, deleteDoc 
        } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js';

        // Konfigurasi Firebase Anda (GANTI DENGAN PUNYA ANDA)
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        // Inisialisasi Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const provider = new GoogleAuthProvider();

        // ==================== GLOBAL STATE ====================
        let currentUser = null;
        let currentView = 'home'; // home, search, koleksi, buat
        let currentMusicTab = 'all'; // all, podcast (nanti)
        let allSongs = [];
        let userPlaylists = [];
        let currentPlaylist = null;
        let audioPlayer = new Audio();
        let currentSongIndex = 0;
        let isPlaying = false;

        // Data lagu dummy (dengan audio dari SoundHelix)
        const dummySongs = [
            { id: 's1', title: 'Viva La Vida', artist: 'Coldplay', cover: 'https://picsum.photos/200/200?random=1', audio: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3' },
            { id: 's2', title: 'Hacker Anthem', artist: 'XBreaker', cover: 'https://picsum.photos/200/200?random=2', audio: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3' },
            { id: 's3', title: 'Namu', artist: 'Sable Hills', cover: 'https://picsum.photos/200/200?random=3', audio: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3' },
            { id: 's4', title: 'Kembali Pulang', artist: 'Radio', cover: 'https://picsum.photos/200/200?random=4', audio: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3' },
            { id: 's5', title: 'Hits Banget', artist: 'Tulus', cover: 'https://picsum.photos/200/200?random=5', audio: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3' },
            { id: 's6', title: 'Sentimental Journey', artist: 'Various', cover: 'https://picsum.photos/200/200?random=6', audio: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3' },
            { id: 's7', title: 'Blinding Lights', artist: 'The Weeknd', cover: 'https://picsum.photos/200/200?random=7', audio: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-7.mp3' },
            { id: 's8', title: 'Dynamite', artist: 'BTS', cover: 'https://picsum.photos/200/200?random=8', audio: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3' },
        ];
        allSongs = dummySongs;

        // ==================== DOM Elements ====================
        const appEl = document.getElementById('app');
        const loginContainer = document.getElementById('login-container');
        const mainContainer = document.getElementById('main-container');
        const contentEl = document.getElementById('content');
        const userPhoto = document.getElementById('user-photo');
        const userName = document.getElementById('user-name');
        const profileDropdown = document.getElementById('profile-dropdown');
        const profileBtn = document.getElementById('profile-btn');
        const musicTab = document.getElementById('music-tab');
        const podcastTab = document.getElementById('podcast-tab');
        const bottomNavItems = document.querySelectorAll('.bottom-nav-item');
        const playerPlayBtn = document.getElementById('player-play');
        const playerPrevBtn = document.getElementById('player-prev');
        playerNextBtn = document.getElementById('player-next');
        const playerProgress = document.getElementById('player-progress');
        const playerCurrentTime = document.getElementById('current-time');
        playerDuration = document.getElementById('duration');
        const playerTitle = document.getElementById('player-title');
        const playerArtist = document.getElementById('player-artist');
        const playerImg = document.getElementById('player-img');

        // ==================== AUTH UI ====================
        function showLogin() {
            loginContainer.style.display = 'flex';
            mainContainer.style.display = 'none';
            renderAuthTabs();
        }

        function showMain() {
            loginContainer.style.display = 'none';
            mainContainer.style.display = 'flex';
            loadUserData();
        }

        function renderAuthTabs() {
            loginContainer.innerHTML = `
                <div class="auth-card">
                    <h1 class="auth-logo">Spotify Clone</h1>
                    <div class="auth-tabs">
                        <button class="auth-tab active" id="login-tab">Login</button>
                        <button class="auth-tab" id="signup-tab">Daftar</button>
                    </div>
                    <div id="auth-content"></div>
                </div>
            `;
            document.getElementById('login-tab').addEventListener('click', () => renderLoginForm());
            document.getElementById('signup-tab').addEventListener('click', () => renderSignupForm());
            renderLoginForm();
        }

        function renderLoginForm() {
            document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
            document.getElementById('login-tab').classList.add('active');
            document.getElementById('auth-content').innerHTML = `
                <form id="login-form">
                    <input type="email" id="login-email" placeholder="Email" required>
                    <input type="password" id="login-password" placeholder="Kata Sandi" required>
                    <button type="submit" class="auth-btn">Masuk</button>
                </form>
                <div class="auth-divider">atau</div>
                <button id="login-phone" class="auth-btn phone-btn">Masuk dengan Nomor HP</button>
                <button id="login-google" class="auth-btn google-btn">Masuk dengan Google</button>
                <div id="recaptcha-container"></div>
            `;
            document.getElementById('login-form').addEventListener('submit', async (e) => {
                e.preventDefault();
                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;
                try {
                    await signInWithEmailAndPassword(auth, email, password);
                } catch (err) {
                    alert('Login gagal: ' + err.message);
                }
            });
            document.getElementById('login-google').addEventListener('click', async () => {
                try {
                    await signInWithPopup(auth, provider);
                } catch (err) {
                    alert('Google login gagal: ' + err.message);
                }
            });
            // Phone login (requires recaptcha)
            window.recaptchaVerifier = new RecaptchaVerifier(auth, 'recaptcha-container', { size: 'invisible' });
            document.getElementById('login-phone').addEventListener('click', () => {
                const phoneNumber = prompt('Masukkan nomor HP dengan kode negara (contoh: +628123456789)');
                if (phoneNumber) {
                    signInWithPhoneNumber(auth, phoneNumber, window.recaptchaVerifier)
                        .then(confirmationResult => {
                            const code = prompt('Masukkan kode OTP yang dikirim:');
                            return confirmationResult.confirm(code);
                        })
                        .catch(err => alert('Gagal: ' + err.message));
                }
            });
        }

        function renderSignupForm() {
            document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
            document.getElementById('signup-tab').classList.add('active');
            document.getElementById('auth-content').innerHTML = `
                <form id="signup-form">
                    <input type="email" id="signup-email" placeholder="Email" required>
                    <input type="password" id="signup-password" placeholder="Kata Sandi" required>
                    <input type="text" id="signup-phone" placeholder="Nomor HP (opsional)">
                    <button type="submit" class="auth-btn">Daftar</button>
                </form>
                <div class="auth-divider">atau</div>
                <button id="signup-google" class="auth-btn google-btn">Daftar dengan Google</button>
                <div id="recaptcha-container2"></div>
            `;
            document.getElementById('signup-form').addEventListener('submit', async (e) => {
                e.preventDefault();
                const email = document.getElementById('signup-email').value;
                const password = document.getElementById('signup-password').value;
                try {
                    await createUserWithEmailAndPassword(auth, email, password);
                } catch (err) {
                    alert('Pendaftaran gagal: ' + err.message);
                }
            });
            document.getElementById('signup-google').addEventListener('click', async () => {
                try {
                    await signInWithPopup(auth, provider);
                } catch (err) {
                    alert('Google signup gagal: ' + err.message);
                }
            });
        }

        // ==================== USER STATE ====================
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                currentUser = user;
                await initUserData();
                showMain();
                updateProfileUI();
                loadView(currentView);
            } else {
                showLogin();
            }
        });

        async function initUserData() {
            // Buat dokumen pengguna di Firestore jika belum ada
            const userRef = doc(db, 'users', currentUser.uid);
            const userSnap = await getDoc(userRef);
            if (!userSnap.exists()) {
                await setDoc(userRef, {
                    email: currentUser.email,
                    displayName: currentUser.displayName || 'Pengguna',
                    photoURL: currentUser.photoURL || 'https://picsum.photos/200/200?random=999',
                    playlists: []
                });
            }
            await loadUserPlaylists();
        }

        async function loadUserPlaylists() {
            const playlistsRef = collection(db, 'users', currentUser.uid, 'playlists');
            const snapshot = await getDocs(playlistsRef);
            userPlaylists = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
        }

        function updateProfileUI() {
            if (currentUser) {
                userName.textContent = currentUser.displayName || currentUser.email.split('@')[0];
                userPhoto.src = currentUser.photoURL || 'https://picsum.photos/200/200?random=999';
            }
        }

        // ==================== PROFILE DROPDOWN ====================
        profileBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            profileDropdown.classList.toggle('show');
        });

        document.addEventListener('click', (e) => {
            if (!profileBtn.contains(e.target) && !profileDropdown.contains(e.target)) {
                profileDropdown.classList.remove('show');
            }
        });

        // Settings di dropdown
        document.getElementById('settings-item').addEventListener('click', () => {
            profileDropdown.classList.remove('show');
            showSettings();
        });

        document.getElementById('logout-item').addEventListener('click', async () => {
            await signOut(auth);
        });

        function showSettings() {
            // Settings panel (sederhana, bisa ditampilkan di area konten)
            contentEl.innerHTML = `
                <div style="padding: 32px;">
                    <h2>Pengaturan</h2>
                    <p>Fitur settings dapat diubah di sini (simulasi).</p>
                    <label>Volume: <input type="range" min="0" max="100" value="70" id="settings-volume"></label>
                    <p>Kualitas Audio: <select><option>Rendah</option><option>Sedang</option><option>Tinggi</option></select></p>
                    <button onclick="alert('Demo settings')">Simpan</button>
                </div>
            `;
        }

        // ==================== BOTTOM NAVIGATION ====================
        bottomNavItems.forEach(item => {
            item.addEventListener('click', () => {
                bottomNavItems.forEach(i => i.classList.remove('active'));
                item.classList.add('active');
                currentView = item.dataset.view;
                loadView(currentView);
            });
        });

        function loadView(view) {
            if (view === 'home') renderHome();
            else if (view === 'search') renderSearch();
            else if (view === 'koleksi') renderKoleksi();
            else if (view === 'buat') renderBuat();
        }

        // ==================== RENDER VIEWS ====================
        function renderHome() {
            const songsToShow = currentMusicTab === 'music' ? allSongs : allSongs.slice(0, 4); // Podcast dummy
            contentEl.innerHTML = `
                <div class="page">
                    <h2 class="page-title">${currentMusicTab === 'music' ? 'Semua Lagu' : 'Podcast Pilihan'}</h2>
                    <div class="songs-grid">
                        ${songsToShow.map(song => `
                            <div class="song-card" data-song-id="${song.id}">
                                <img src="${song.cover}" alt="${song.title}">
                                <h4>${song.title}</h4>
                                <p>${song.artist}</p>
                                <button class="play-card-btn" onclick="playSong('${song.id}')"><i class="fas fa-play"></i></button>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderSearch() {
            contentEl.innerHTML = `
                <div class="page">
                    <div class="search-header">
                        <i class="fas fa-search"></i>
                        <input type="text" id="search-input" placeholder="Cari lagu, artis, atau podcast" autofocus>
                        <i class="fas fa-camera" id="camera-icon" style="margin-left: 10px; cursor: pointer;"></i>
                    </div>
                    <div id="search-results" class="songs-grid"></div>
                </div>
            `;
            document.getElementById('search-input').addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase();
                const results = allSongs.filter(s => s.title.toLowerCase().includes(query) || s.artist.toLowerCase().includes(query));
                const resultsEl = document.getElementById('search-results');
                resultsEl.innerHTML = results.map(song => `
                    <div class="song-card" data-song-id="${song.id}">
                        <img src="${song.cover}" alt="${song.title}">
                        <h4>${song.title}</h4>
                        <p>${song.artist}</p>
                        <button class="play-card-btn" onclick="playSong('${song.id}')"><i class="fas fa-play"></i></button>
                    </div>
                `).join('');
            });
            document.getElementById('camera-icon').addEventListener('click', () => {
                alert('Fitur scan barcode (demo) - Arahkan kamera ke kode Spotify');
            });
        }

      function renderKoleksi() {
            contentEl.innerHTML = `
                <div class="page">
                    <h2 class="page-title">Koleksi Kamu</h2>
                    <button id="new-collection-btn" class="btn-primary"><i class="fas fa-plus"></i> Buat Koleksi Baru</button>
                    <div id="collections-list" class="collections-grid"></div>
                </div>
            `;
            renderCollections();
            document.getElementById('new-collection-btn').addEventListener('click', () => {
                const name = prompt('Nama koleksi:');
                if (name) createCollection(name);
            });
        }

        async function renderCollections() {
            await loadUserPlaylists();
            const listEl = document.getElementById('collections-list');
            listEl.innerHTML = userPlaylists.map(pl => `
                <div class="collection-card" data-id="${pl.id}">
                    <img src="https://picsum.photos/200/200?random=${pl.id}" alt="">
                    <h4>${pl.name}</h4>
                    <p>${pl.songs?.length || 0} lagu</p>
                    <button onclick="viewCollection('${pl.id}')">Lihat</button>
                </div>
            `).join('');
        }

        window.viewCollection = async (playlistId) => {
            const playlist = userPlaylists.find(p => p.id === playlistId);
            if (!playlist) return;
            contentEl.innerHTML = `
                <div class="page">
                    <button onclick="renderKoleksi()" class="back-btn"><i class="fas fa-arrow-left"></i> Kembali</button>
                    <h2>${playlist.name}</h2>
                    <p>${playlist.songs?.length || 0} lagu</p>
                    <div class="songs-grid" id="collection-songs"></div>
                </div>
            `;
            const songsEl = document.getElementById('collection-songs');
            if (playlist.songs && playlist.songs.length) {
                songsEl.innerHTML = playlist.songs.map(songId => {
                    const song = allSongs.find(s => s.id === songId);
                    return song ? `
                        <div class="song-card">
                            <img src="${song.cover}" alt="">
                            <h4>${song.title}</h4>
                            <p>${song.artist}</p>
                            <button class="play-card-btn" onclick="playSong('${song.id}')"><i class="fas fa-play"></i></button>
                        </div>
                    ` : '';
                }).join('');
            } else {
                songsEl.innerHTML = '<p>Belum ada lagu. Tambah dari halaman Home.</p>';
            }
        };

        async function createCollection(name) {
            const playlistsRef = collection(db, 'users', currentUser.uid, 'playlists');
            await addDoc(playlistsRef, { name, songs: [], collaborative: false, blend: false });
            await loadUserPlaylists();
            renderCollections();
        }

        function renderBuat() {
            contentEl.innerHTML = `
                <div class="page">
                    <h2 class="page-title">Buat Playlist</h2>
                    <form id="create-playlist-form">
                        <input type="text" id="playlist-name" placeholder="Nama Playlist" required>
                        <label><input type="checkbox" id="collab-check"> Playlist Kolaboratif</label>
                        <label><input type="checkbox" id="blend-check"> Blend</label>
                        <button type="submit" class="btn-primary">Buat</button>
                    </form>
                </div>
            `;
            document.getElementById('create-playlist-form').addEventListener('submit', async (e) => {
                e.preventDefault();
                const name = document.getElementById('playlist-name').value;
                const collab = document.getElementById('collab-check').checked;
                const blend = document.getElementById('blend-check').checked;
                const playlistsRef = collection(db, 'users', currentUser.uid, 'playlists');
                await addDoc(playlistsRef, { name, songs: [], collaborative: collab, blend });
                await loadUserPlaylists();
                alert('Playlist dibuat!');
                currentView = 'koleksi';
                loadView('koleksi');
                // update bottom nav active
                bottomNavItems.forEach(i => i.classList.remove('active'));
                document.querySelector('[data-view="koleksi"]').classList.add('active');
            });
        }

        // ==================== MUSIC / PODCAST TABS ====================
        musicTab.addEventListener('click', () => {
            musicTab.classList.add('active');
            podcastTab.classList.remove('active');
            currentMusicTab = 'music';
            if (currentView === 'home') renderHome();
        });
        podcastTab.addEventListener('click', () => {
            podcastTab.classList.add('active');
            musicTab.classList.remove('active');
            currentMusicTab = 'podcast';
            if (currentView === 'home') renderHome();
        });

        // ==================== AUDIO PLAYER ====================
        window.playSong = (songId) => {
            const song = allSongs.find(s => s.id === songId);
            if (!song) return;
            currentSongIndex = allSongs.findIndex(s => s.id === songId);
            audioPlayer.src = song.audio;
            audioPlayer.play();
            isPlaying = true;
            updatePlayerUI(song);
            playerPlayBtn.innerHTML = '<i class="fas fa-pause-circle"></i>';
        };

        function updatePlayerUI(song) {
            playerTitle.textContent = song.title;
            playerArtist.textContent = song.artist;
            playerImg.src = song.cover;
        }

        audioPlayer.addEventListener('timeupdate', () => {
            const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100 || 0;
            playerProgress.style.width = progress + '%';
            playerCurrentTime.textContent = formatTime(audioPlayer.currentTime);
            playerDuration.textContent = formatTime(audioPlayer.duration);
        });

        audioPlayer.addEventListener('ended', () => {
            // next song
            if (currentSongIndex < allSongs.length - 1) {
                playSong(allSongs[currentSongIndex + 1].id);
            }
        });

        playerPlayBtn.addEventListener('click', () => {
            if (isPlaying) {
                audioPlayer.pause();
                playerPlayBtn.innerHTML = '<i class="fas fa-play-circle"></i>';
            } else {
                audioPlayer.play();
                playerPlayBtn.innerHTML = '<i class="fas fa-pause-circle"></i>';
            }
            isPlaying = !isPlaying;
        });

        playerPrevBtn.addEventListener('click', () => {
            if (currentSongIndex > 0) {
                playSong(allSongs[currentSongIndex - 1].id);
            }
        });

        playerNextBtn.addEventListener('click', () => {
            if (currentSongIndex < allSongs.length - 1) {
                playSong(allSongs[currentSongIndex + 1].id);
            }
        });

        document.getElementById('player-progress-container').addEventListener('click', (e) => {
            const rect = e.currentTarget.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const width = rect.width;
            const percentage = x / width;
            audioPlayer.currentTime = percentage * audioPlayer.duration;
        });

        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }

        // Volume control
        document.getElementById('volume-slider').addEventListener('click', (e) => {
            const rect = e.currentTarget.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const width = rect.width;
            const vol = x / width;
            audioPlayer.volume = vol;
            document.getElementById('volume-fill').style.width = vol * 100 + '%';
        });

        document.getElementById('volume-icon').addEventListener('click', () => {
            if (audioPlayer.volume > 0) {
                audioPlayer.volume = 0;
                document.getElementById('volume-fill').style.width = '0%';
            } else {
                audioPlayer.volume = 0.7;
                document.getElementById('volume-fill').style.width = '70%';
            }
        });

        // ==================== INIT ====================
        window.onload = () => {
            // Render awal
        };
    </script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        body { background: #000; color: #fff; overflow: hidden; height: 100vh; }
        #app { height: 100%; display: flex; flex-direction: column; }
        /* Login */
        #login-container { display: flex; align-items: center; justify-content: center; height: 100%; background: linear-gradient(180deg, #1a1a1a, #000); }
        .auth-card { width: 400px; background: #121212; padding: 32px; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.5); }
        .auth-logo { text-align: center; color: #1ed760; margin-bottom: 24px; }
        .auth-tabs { display: flex; margin-bottom: 24px; border-bottom: 1px solid #282828; }
        .auth-tab { flex: 1; background: none; border: none; color: #b3b3b3; padding: 12px; cursor: pointer; font-weight: 600; }
        .auth-tab.active { color: #fff; border-bottom: 2px solid #1ed760; }
        #auth-content input { width: 100%; padding: 12px; margin-bottom: 16px; background: #282828; border: none; border-radius: 4px; color: #fff; }
        .auth-btn { width: 100%; padding: 12px; background: #1ed760; border: none; border-radius: 30px; font-weight: 600; cursor: pointer; margin-bottom: 12px; }
        .auth-divider { text-align: center; color: #b3b3b3; margin: 16px 0; }
        .google-btn { background: #4285f4; color: #fff; }
        .phone-btn { background: #0f0f0f; color: #fff; border: 1px solid #535353; }
        /* Main */
        #main-container { display: none; flex-direction: column; height: 100%; }
        /* Top Bar */
        .top-bar { display: flex; justify-content: space-between; align-items: center; padding: 16px 32px; background: #000; border-bottom: 1px solid #282828; }
        .top-left { display: flex; gap: 16px; }
        .nav-arrows { display: flex; gap: 16px; }
        .arrow-btn { width: 32px; height: 32px; background: #0f0f0f; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }
        .top-center { display: flex; gap: 32px; }
        .top-center span { color: #b3b3b3; cursor: pointer; padding-bottom: 4px; }
        .top-center span.active { color: #fff; border-bottom: 2px solid #1ed760; }
        .profile-menu { position: relative; }
        .profile-btn { display: flex; align-items: center; gap: 8px; background: #0f0f0f; padding: 4px 12px 4px 4px; border-radius: 20px; cursor: pointer; }
        .profile-btn img { width: 28px; height: 28px; border-radius: 50%; }
        .profile-dropdown { position: absolute; top: 50px; right: 0; width: 240px; background: #282828; border-radius: 4px; box-shadow: 0 8px 16px rgba(0,0,0,0.3); display: none; z-index: 100; }
        .profile-dropdown.show { display: block; }
        .dropdown-item { padding: 12px 16px; color: #b3b3b3; cursor: pointer; }
        .dropdown-item:hover { background: #3e3e3e; color: #fff; }
        /* Bottom Bar */
        .bottom-bar { display: flex; justify-content: space-around; align-items: center; padding: 8px 0; background: #121212; border-top: 1px solid #282828; }
        .bottom-nav-item { display: flex; flex-direction: column; align-items: center; color: #b3b3b3; cursor: pointer; font-size: 12px; }
        .bottom-nav-item i { font-size: 20px; margin-bottom: 4px; }
        .bottom-nav-item.active { color: #1ed760; }
        /* Content */
        .content { flex: 1; overflow-y: auto; background: linear-gradient(180deg, #1f1f1f 0%, #121212 100%); padding: 24px 32px; }
        .page-title { font-size: 28px; margin-bottom: 24px; }
        .songs-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 20px; }
        .song-card { background: #181818; padding: 16px; border-radius: 6px; transition: 0.3s; cursor: pointer; position: relative; }
        .song-card:hover { background: #282828; }
        .song-card img { width: 100%; aspect-ratio: 1; border-radius: 4px; margin-bottom: 12px; object-fit: cover; }
        .song-card h4 { font-size: 14px; margin-bottom: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .song-card p { color: #b3b3b3; font-size: 12px; }
        .play-card-btn { position: absolute; bottom: 70px; right: 12px; width: 40px; height: 40px; border-radius: 50%; background: #1ed760; border: none; color: #000; opacity: 0; transition: 0.3s; cursor: pointer; }
        .song-card:hover .play-card-btn { opacity: 1; transform: translateY(-8px); }
        /* Search */
        .search-header { display: flex; align-items: center; background: #282828; padding: 8px 16px; border-radius: 30px; margin-bottom: 24px; }
        .search-header i { color: #b3b3b3; margin-right: 8px; }
        .search-header input { background: none; border: none; color: #fff; flex: 1; outline: none; }
        /* Collections */
        .collections-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 20px; margin-top: 20px; }
        .collection-card { background: #181818; padding: 16px; border-radius: 6px; }
        .collection-card img { width: 100%; aspect-ratio: 1; border-radius: 4px; margin-bottom: 8px; }
        .btn-primary { background: #1ed760; color: #000; border: none; padding: 10px 20px; border-radius: 30px; font-weight: 600; cursor: pointer; }
        /* Player */
        .player { height: 90px; background: #181818; border-top: 1px solid #282828; display: flex; align-items: center; justify-content: space-between; padding: 0 16px; }
        .player-left { display: flex; align-items: center; width: 30%; }
        .player-left img { width: 56px; height: 56px; border-radius: 4px; margin-right: 12px; }
        .player-center { width: 40%; display: flex; flex-direction: column; align-items: center; }
        .player-controls { display: flex; gap: 16px; margin-bottom: 8px; }
        .player-controls i { color: #b3b3b3; cursor: pointer; font-size: 16px; }
        .player-controls i:nth-child(3) { color: #fff; font-size: 32px; }
        .player-progress-container { width: 100%; display: flex; align-items: center; gap: 8px; }
        .progress-bar { flex: 1; height: 4px; background: #535353; border-radius: 2px; cursor: pointer; }
        .progress-fill { height: 4px; background: #1ed760; border-radius: 2px; width: 0; }
        .player-right { width: 30%; display: flex; align-items: center; justify-content: flex-end; gap: 12px; }
        .volume-bar { width: 80px; height: 4px; background: #535353; border-radius: 2px; cursor: pointer; }
        .volume-fill { height: 4px; background: #b3b3b3; border-radius: 2px; width: 70%; }
        /* Utility */
        .back-btn { background: none; border: none; color: #b3b3b3; cursor: pointer; margin-bottom: 16px; }
    </style>
</head>
<body>
    <div id="app">
        <!-- Login Container (akan diisi JS) -->
        <div id="login-container"></div>

     <!-- Main Container -->
        <div id="main-container">
            <!-- Top Bar -->
            <div class="top-bar">
                <div class="top-left">
                    <div class="nav-arrows">
                        <div class="arrow-btn"><i class="fas fa-chevron-left"></i></div>
                        <div class="arrow-btn"><i class="fas fa-chevron-right"></i></div>
                    </div>
                </div>
                <div class="top-center">
                    <span id="music-tab" class="active">Musik</span>
                    <span id="podcast-tab">Podcast</span>
                </div>
                <div class="profile-menu">
                    <div class="profile-btn" id="profile-btn">
                        <img id="user-photo" src="https://picsum.photos/28/28" alt="user">
                        <span id="user-name">User</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="profile-dropdown" id="profile-dropdown">
                        <div class="dropdown-item" id="settings-item"><i class="fas fa-cog"></i> Pengaturan</div>
                        <div class="dropdown-item" id="logout-item"><i class="fas fa-sign-out-alt"></i> Logout</div>
                    </div>
                </div>
            </div>

                      <!-- Main Content -->
            <div class="content" id="content"></div>

            <!-- Bottom Navigation -->
            <div class="bottom-bar">
                <div class="bottom-nav-item active" data-view="home">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </div>
                <div class="bottom-nav-item" data-view="search">
                    <i class="fas fa-search"></i>
                    <span>Pencarian</span>
                </div>
                <div class="bottom-nav-item" data-view="koleksi">
                    <i class="fas fa-list"></i>
                    <span>Koleksi</span>
                </div>
                <div class="bottom-nav-item" data-view="buat">
                    <i class="fas fa-plus-circle"></i>
                    <span>Buat</span>
                </div>
            </div>

            <!-- Player -->
            <div class="player">
                <div class="player-left">
                    <img id="player-img" src="https://picsum.photos/56/56" alt="">
                    <div>
                        <h4 id="player-title">Pilih lagu</h4>
                        <p id="player-artist">Artist</p>
                    </div>
                    <i class="fas fa-heart" style="margin-left: 16px; color: #b3b3b3; cursor: pointer;"></i>
                </div>
                <div class="player-center">
                    <div class="player-controls">
                        <i class="fas fa-random" id="shuffle"></i>
                        <i class="fas fa-step-backward" id="player-prev"></i>
                        <i class="fas fa-play-circle" id="player-play"></i>
                        <i class="fas fa-step-forward" id="player-next"></i>
                        <i class="fas fa-repeat" id="repeat"></i>
                    </div>
                    <div class="player-progress-container" id="player-progress-container">
                        <span id="current-time">0:00</span>
                        <div class="progress-bar">
                            <div class="progress-fill" id="player-progress"></div>
                        </div>
                        <span id="duration">0:00</span>
                    </div>
                </div>
                <div class="player-right">
                    <i class="fas fa-list"></i>
                    <i class="fas fa-volume-high" id="volume-icon"></i>
                    <div class="volume-bar" id="volume-slider">
                        <div class="volume-fill" id="volume-fill"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        // The main script is in the module above
    </script>
</body>
</html>
      
